{"remainingRequest":"C:\\user\\projects\\crud_vue\\node_modules\\babel-loader\\lib\\index.js!C:\\user\\projects\\crud_vue\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\user\\projects\\crud_vue\\src\\store\\paintings\\index.js","dependencies":[{"path":"C:\\user\\projects\\crud_vue\\src\\store\\paintings\\index.js","mtime":1714233878547},{"path":"C:\\user\\projects\\crud_vue\\babel.config.js","mtime":1710680894000},{"path":"C:\\user\\projects\\crud_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1710683651399},{"path":"C:\\user\\projects\\crud_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1710683652179},{"path":"C:\\user\\projects\\crud_vue\\node_modules\\eslint-loader\\index.js","mtime":1710683651596}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnJlZHVjZS5qcyI7Ci8vaW1wb3J0IHsgZmV0Y2hJdGVtcyB9IGZyb20gJy4uL2hhbGxzL3NlbGVjdG9ycyc7CmltcG9ydCBhcGkgZnJvbSAnLi9hcGknOwovL2ltcG9ydCB7IGZldGNoSXRlbXMgfSBmcm9tICcuL3NlbGVjdG9ycyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogewogICAgaXRlbXM6IFtdLAogICAgaXRlbXNCeUhhbGxJZDogW10KICB9LAogIGdldHRlcnM6IHsKICAgIGl0ZW1zOiBzdGF0ZSA9PiBzdGF0ZS5pdGVtcywKICAgIGl0ZW1zQnlLZXk6IHN0YXRlID0+IHN0YXRlLml0ZW1zLnJlZHVjZSgocmVzLCBjdXIpID0+IHsKICAgICAgcmVzW2N1clsnaWQnXV0gPSBjdXI7CiAgICAgIHJldHVybiByZXM7CiAgICB9LCB7fSkKICB9LAogIG11dGF0aW9uczogewogICAgc2V0SXRlbXNCeUhhbGxJZDogKHN0YXRlLCBpdGVtcykgPT4gewogICAgICBzdGF0ZS5pdGVtc0J5SGFsbElkID0gaXRlbXM7CiAgICB9LAogICAgc2V0SXRlbXM6IChzdGF0ZSwgaXRlbXMpID0+IHsKICAgICAgc3RhdGUuaXRlbXMgPSBpdGVtczsKICAgICAgY29uc29sZS5sb2coaXRlbXMpOwogICAgfSwKICAgIHNldEl0ZW06IChzdGF0ZSwgaXRlbSkgPT4gewogICAgICBzdGF0ZS5pdGVtcy5wdXNoKGl0ZW0pOwogICAgfSwKICAgIHJlbW92ZUl0ZW06IChzdGF0ZSwgaWRSZW1vdmUpID0+IHsKICAgICAgc3RhdGUuaXRlbXMgPSBzdGF0ZS5pdGVtcy5maWx0ZXIoKHsKICAgICAgICBpZAogICAgICB9KSA9PiBpZCAhPT0gaWRSZW1vdmUpOwogICAgfSwKICAgIHVwZGF0ZUl0ZW06IChzdGF0ZSwgdXBkYXRlSXRlbSkgPT4gewogICAgICBjb25zdCBpbmRleCA9IHN0YXRlLml0ZW1zLmZpbmRJbmRleChpdGVtID0+ICtpdGVtLmlkID09PSArdXBkYXRlSXRlbS5pZCk7CiAgICAgIHN0YXRlLml0ZW1zW2luZGV4XSA9IHVwZGF0ZUl0ZW07CiAgICB9LAogICAgaXRlbXNCeUlkOiAoc3RhdGUsIGlkSXRlbSkgPT4gewogICAgICBzdGF0ZS5pdGVtcyA9IHN0YXRlLml0ZW1zLmZpbHRlcigoewogICAgICAgIGlkX2hhbGwKICAgICAgfSkgPT4gaWRfaGFsbCAhPT0gaWRJdGVtKTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGZldGNoSXRlbXM6IGFzeW5jICh7CiAgICAgIGNvbW1pdAogICAgfSkgPT4gewogICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaS5wYWludGluZ3MoKTsKICAgICAgY29uc3QgaXRlbXMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7CiAgICAgIGNvbW1pdCgnc2V0SXRlbXMnLCBpdGVtcyk7CiAgICB9LAogICAgcmVtb3ZlSXRlbTogYXN5bmMgKHsKICAgICAgY29tbWl0CiAgICB9LCBpZCkgPT4gewogICAgICBjb25zdCBpZFJlbW92ZWRJdGVtID0gYXdhaXQgYXBpLnJlbW92ZShpZCk7CiAgICAgIGNvbW1pdCgncmVtb3ZlSXRlbScsIGlkUmVtb3ZlZEl0ZW0pOwogICAgfSwKICAgIGZldGNoSXRlbXNCeUhhbGxJZDogYXN5bmMgKHsKICAgICAgY29tbWl0CiAgICB9LCBoYWxsSWQpID0+IHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCBpdGVtcyA9IGF3YWl0IGFwaS5wYWludGluZ0lkKGhhbGxJZCk7CiAgICAgICAgY29tbWl0KCdzZXRJdGVtc0J5SGFsbElkJywgaXRlbXMpOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGl0ZW1zIGJ5IGhhbGwgSUQ6JywgZXJyb3IpOwogICAgICB9CiAgICB9LAogICAgYWRkSXRlbTogYXN5bmMgKHsKICAgICAgY29tbWl0CiAgICB9LCB7CiAgICAgIG5hbWUsCiAgICAgIGltZywKICAgICAgeWVhciwKICAgICAgZGVzY3JpcHRpb24sCiAgICAgIGlkX2hhbGwKICAgIH0pID0+IHsKICAgICAgY29uc3QgaXRlbSA9IGF3YWl0IGFwaS5hZGQoewogICAgICAgIG5hbWUsCiAgICAgICAgaW1nLAogICAgICAgIHllYXIsCiAgICAgICAgZGVzY3JpcHRpb24sCiAgICAgICAgaWRfaGFsbAogICAgICB9KTsKICAgICAgY29tbWl0KCdzZXRJdGVtJywgaXRlbSk7CiAgICB9LAogICAgdXBkYXRlSXRlbTogYXN5bmMgKHsKICAgICAgY29tbWl0CiAgICB9LCB7CiAgICAgIGlkLAogICAgICBuYW1lLAogICAgICBpbWcsCiAgICAgIHllYXIsCiAgICAgIGRlc2NyaXB0aW9uLAogICAgICBpZF9oYWxsCiAgICB9KSA9PiB7CiAgICAgIGNvbnN0IGl0ZW0gPSBhd2FpdCBhcGkudXBkYXRlKHsKICAgICAgICBpZCwKICAgICAgICBuYW1lLAogICAgICAgIGltZywKICAgICAgICB5ZWFyLAogICAgICAgIGRlc2NyaXB0aW9uLAogICAgICAgIGlkX2hhbGwKICAgICAgfSk7CiAgICAgIGNvbW1pdCgndXBkYXRlSXRlbScsIGl0ZW0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["api","namespaced","state","items","itemsByHallId","getters","itemsByKey","reduce","res","cur","mutations","setItemsByHallId","setItems","console","log","setItem","item","push","removeItem","idRemove","filter","id","updateItem","index","findIndex","itemsById","idItem","id_hall","actions","fetchItems","commit","response","paintings","json","idRemovedItem","remove","fetchItemsByHallId","hallId","paintingId","error","addItem","name","img","year","description","add","update"],"sources":["C:/user/projects/crud_vue/src/store/paintings/index.js"],"sourcesContent":["//import { fetchItems } from '../halls/selectors';\r\nimport api from './api';\r\n//import { fetchItems } from './selectors';\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state: {\r\n    items: [],\r\n    itemsByHallId: []\r\n  },\r\n  getters: {\r\n    items: state => state.items,\r\n    itemsByKey: state => state.items.reduce((res, cur) => {\r\n      res[cur['id']] = cur;\r\n      return res;\r\n    }, {}),\r\n  },\r\n  mutations: {\r\n    setItemsByHallId: (state, items) => {\r\n      state.itemsByHallId = items;\r\n    },\r\n    setItems: (state, items) => {\r\n      state.items = items;\r\n      console.log(items);\r\n    },\r\n    setItem: (state, item) => {\r\n      state.items.push(item);\r\n    },\r\n    removeItem: (state, idRemove) => {\r\n      state.items = state.items.filter(({ id }) => id !== idRemove)\r\n    },\r\n    updateItem: (state, updateItem) => {\r\n      const index = state.items.findIndex(item => +item.id === +updateItem.id);\r\n      state.items[index] = updateItem;\r\n    },\r\n    itemsById: (state, idItem) =>{\r\n      state.items = state.items.filter(({ id_hall }) => id_hall !== idItem);\r\n    }\r\n  },\r\n  actions: {\r\n    fetchItems: async ({ commit }) => {\r\n      const response = await api.paintings();\r\n      const items = await response.json();\r\n      commit('setItems', items)\r\n    },\r\n    removeItem: async ({ commit }, id) => {\r\n      const idRemovedItem = await api.remove( id );\r\n      commit('removeItem', idRemovedItem);\r\n\r\n    },\r\n    fetchItemsByHallId: async ({ commit }, hallId) => {\r\n      try {\r\n        const items = await api.paintingId(hallId);\r\n        commit('setItemsByHallId', items);\r\n      } catch (error) {\r\n        console.error('Error fetching items by hall ID:', error);\r\n      }\r\n    },\r\n    addItem: async ({ commit }, { name, img, year, description, id_hall}) => {\r\n      const item = await api.add({ name, img, year, description, id_hall })\r\n      commit('setItem', item)\r\n    },\r\n    updateItem: async ({ commit }, { id, name, img, year, description, id_hall }) => {\r\n      const item = await api.update({ id, name, img, year, description, id_hall });\r\n      commit('updateItem', item);\r\n    }\r\n  },\r\n}\r\n"],"mappings":"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","ignoreList":[]}]}